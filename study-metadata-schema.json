{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://healdata.org/schemas/study-metadata-schema-1.0.0.json",
  "title": "HEAL Platform Study",
  "description": "A study hosted and indexed on the HEAL Platform",
  "type": "object",
  "required": [ 
    "minimal_info",
    "metadata_location",
    "citation",
    "contact",
    "data_availability",
    "findings",
    "study_translational_focus",
    "study_type", 
    "human_treatment_applicability",
    "human_condition_applicability", 
    "human_subject_applicability", 
    "data" ],
  "properties": {
    "minimal_info": {
      "type": "object",
      "required": [ "study_name", "study_description" ],
      "properties": {
        "study_name": {
          "description": "Generally equivalent to the NIH application ID title",
          "type": "string"
        },
        "study_description": {
          "description": "Generally equivalent to the NIH application ID abstract text",
          "type": "string"
        },
        "study_nickname": {
          "description": "Study nickname or alternative title",
          "type": "string"
        }
      }
    },
    "metadata_location": {
      "type": "object",
      "required": [],
      "properties": {
        "nih_application_id": {
          "description": "NIH application ID; only applicable if study is funded by NIH",
          "type": "string"
        },
        "nih_reporter_link": {
          "description": "URL link to the NIH application ID NIH RePORTER webpage; only applicable if study is funded by NIH",
          "type": "string",
          "$ref": "#/definitions/saneUrl"
        },
        "clinical_trials_study_ID": {
          "description": "ClinicalTrials.gov study ID; only applicable if study is a reportable clinical trial and registered on ClinicalTrials.gov",
          "type": "string"
        },
        "data_repositories":{
          "type": "array",
          "items": {
            "type": "object",
            "required": ["repository_name, repository_study_ID"],
            "properties": {
              "repository_name": {"description": "Name of a repository in which data or other shareable research products are submitted for storage by study author", "type": "string"},
              "repository_study_ID": {"description": "Study unique identifier at that repository", "type": "string"},
              "repository_doi":{"description": "Study unique persistent identifier at that repository; usually a doi", "type": "string"}
            }
          }
        },
        "cedar_study_level_metadata_template_instance_ID": {
          "description": "ID of the CEDAR HEAL Study-level Core Metadata Template instance created for this study",
          "type": "string"
        },
        "other_study_websites": {
          "description": "any other websites officially associated with this study that provide additional information about the study",
          "type":"array",
          "items": {
            "type": "string",
            "$ref": "#/definitions/saneUrl"
          }
        }
      }  
    },
    "citation": {
      "type": "object",
      "required": [],
      "properties": {
        "heal_funded_status": {
          "description": "Whether or not the study is funded by the NIH HEAL initiative",
          "type": "boolean"
        },
        "study_collection_status": {
          "description": "Whether or not the study is related to other studies by some administrative mechanism",
          "type": "boolean"
        },
        "study_collection": {
          "description": "Name or Identifier of the study group or collection this study is related to by some administrative mechanism",
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "funding":{
          "description": "Describe the grants and other funding supporting the study; one item in this array per grant/award or funding source",
          "type": "array",
          "items": {
            "type": "object",
            "required": [],
            "properties": {
              "funder_name": {
                "description": "Name of a the granting agency or organization funding the study; include sub-agency administrative entity as second element in array if applicable (e.g. National Institute of Health, National Institute on Drug Abuse)", 
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "funder_abbreviation": {
                "description": "Abbreviation for the name of the granting agency or organization funding the study; include abbreviation for sub-agency administrative entity as second element in array if applicable (e.g. NIH, NIDA)", 
                "type": "array",
                "items": {
                  "type": "string"
                }
              },
              "funder_type": {
                "description": "Type of granting agency or organization funding the study", 
                "type": "string",
                "enum": [
                  "governmental",
                  "non-governmental, non-profit, not corporate affiliated",
                  "non-governmental, non-profit, corporate affiliated",
                  "non-governmental, for-profit"
                ]
              },
              "funder_geographic_reach":{
                "description": "The geographic reach of the granting agency or organization funding the study", 
                "type": "string",
                "enum": [
                  "international",
                  "national - non-US",
                  "national - US",
                  "state - US",
                  "local - US"
                ]
              },
              "funding_award_ID":{"description": "The grant award ID or number", "type": "string"},
              "funding_award_name":{"description": "The grant award name", "type": "string"}
            }
          }
        },
        "investigators":{
          "description": "Describe the primary and co-investigators of the study; one item in this array per investigator",
          "type": "array",
          "items": {
            "type": "object",
            "required": [],
            "properties": {
              "investigator_first_name": {
                "description": "First name of study primary or co-investigator", 
                "type": "string"
              },
              "investigator_middle_initial": {
                "description": "Middle initial of study primary or co-investigator", 
                "type": "string"
              },
              "investigator_last_name": {
                "description": "Last name of study primary or co-investigator", 
                "type": "string"
              },
              "investigator_ID": {
                "description": "Add a structured identifier(s) for the investigator; one item in this array per structured identifier; e.g. one item for providing ORCID, another for providing RAS passport", 
                "type": "array",
                "items": {
                  "type": "object",
                  "required": ["ID_type","ID_value"],
                  "properties": {
                    "ID_type": {
                      "description": "Type of identifier that will be provided",
                      "type": "string",
                      "enum": [
                        "internal NIH RePORTER ID",
                        "doi",
                        "ORCID",
                        "eRA Commons ID",
                        "RAS Passport"
                      ],
                      
                    }
                  }
                }
              },
              "funder_type": {
                "description": "Type of granting agency or organization funding the study", 
                "type": "string",
                "enum": [
                  "governmental",
                  "non-governmental, non-profit, not corporate affiliated",
                  "non-governmental, non-profit, corporate affiliated",
                  "non-governmental, for-profit"
                ]
              },
              "funder_geographic_reach":{
                "description": "The geographic reach of the granting agency or organization funding the study", 
                "type": "string",
                "enum": [
                  "international",
                  "national - non-US",
                  "national - US",
                  "state - US",
                  "local - US"
                ]
              },
              "funding_award_ID":{"description": "The grant award ID or number", "type": "string"},
              "funding_award_name":{"description": "The grant award name", "type": "string"}
            }
          }
        }
      }
    }   
  },
  "definitions": {
    "saneUrl": {"format": "uri", "pattern": "^https?://"}
  }
}
